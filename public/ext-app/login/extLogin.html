
<div ng-if="ctrl.user" id="extLogin"> 
    <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="extLoginMgtMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            {{ctrl.user.username}}
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="extLoginMgtMenu">
            <li ng-show="ctrl.isAdmin()"><a ng-link="['Admin']">Admin</a></li>
            <li><a ng-link="['Account']">Account</a></li>            
            <li ng-click="ctrl.callParentLogout()"><a href="#">Logout</a></li>
        </ul>
    </div>
</div>
       
<div ng-if="!ctrl.user" id="extLogin">
    <p ng-show="!ctrl.showLoginForm">
        <button ng-click="ctrl.toggleLogin()" class="btn btn-default" id="extLoginMgtMenu">Login or Register</button>   
    </p>
    <form ng-show="ctrl.showLoginForm" class="navbar-form" id="ctrl.extLoginForm" name="ctrl.extLoginForm" ng-submit="ctrl.callParentLogin()" novalidate >        
        <div class="form-group"  ng-class="{'has-error':ctrl.extLoginForm.txtExtLogin.$error.required && ctrl.extLoginForm.txtExtLogin.$touched}"  >
            <label class="control-label" for="txtExtLogin">Login:</label>
            <input type="text" class="form-control" id="txtExtLogin" name="txtExtLogin" placeholder="user name" ng-model="ctrl.username" required />
        </div>
        <div class="form-group"  ng-class="{'has-error':ctrl.extLoginForm.txtExtPassword.$error.required && ctrl.extLoginForm.txtExtPassword.$touched}"  >
            <input type="password" class="form-control" id="txtExtPassword" name="txtExtPassword" placeholder="password" ng-model="ctrl.password" required />
        </div>
        <button ng-disabled="ctrl.extLoginForm.$invalid" type="submit" class="btn btn-small btn-success">Login <i class="fa fa-chevron-circle-right" aria-hidden="true"></i></button>
        <a ng-link="['Register']" class="btn btn-small btn-info">Register <i class="fa fa-check-circle" aria-hidden="true"></i></a>
        <a ng-click="ctrl.toggleLogin()" class="btn btn-small btn-default"><i class="fa fa-undo" aria-hidden="true"></i></a>        
    </form>
</div>